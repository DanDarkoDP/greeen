
<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <title>Проєкт</title>
  <link rel="stylesheet" href="project.css" />
</head>
<body>
  <a href="index.html">← Назад до кейсів</a>

  <div class="container">
    <div class="project-meta">
      <div class="meta-id">WK - 159</div>
      <h1 class="title" id="projectTitle"></h1>
      <div class="subtitle">Studio Freight</div>

      <div class="tags">
        <span>New York</span>
        <span>Finance</span>
        <span>Digital Design</span>
        <span>Identity Design</span>
        <span>Logo Design</span>
      </div>

      <div class="date">DATE ADDED &nbsp;&nbsp; <strong> June 2025</strong></div>
    </div>

    <div id="projectPage" class="project-content"></div>
  </div>

  <div id="projectMedia" class="media-grid"></div>

<script>
  function slugify(text) {
    return text.toLowerCase().replace(/\s+/g, '_').replace(/[^\w\-]+/g, '');
  }

  const params = new URLSearchParams(window.location.search);
  const projectId = params.get('project');

  fetch('https://opensheet.elk.sh/1Zo86vgMIuMfmmJuNw8Fk7sAGwFmsJi0ZOGvzScxhNqY/Sheet1')
    .then(res => res.json())
    .then(data => {
      const p = data.find(item => slugify(item.title) === projectId);
      const target = document.getElementById('projectPage');
      const titleEl = document.getElementById('projectTitle');
      const mediaEl = document.getElementById('projectMedia');

      if (p) {
        titleEl.textContent = p.title;
        target.innerHTML = `
          <p class="description">${p.fullDescription || p.description}</p>
          ${p.image ? `<img src="${p.image}" alt="${p.title}" />` : ''}
          ${p.image2 ? `<img src="${p.image2}" alt="">` : ''}
          ${p.image3 ? `<img src="${p.image3}" alt="">` : ''}
        `;

        // Функція для генерації медіа-блоків
        const mediaBlocks = [];

        // Відео
        for (let i = 1; i <= 4; i++) {
          if (p[`video${i}`]) {
            mediaBlocks.push(`
              <video controls autoplay muted loop playsinline>
                <source src="${p[`video${i}`]}" type="video/mp4" />
                Your browser does not support the video tag.
              </video>
            `);
          }
        }

        // Додаткові фото
        for (let i = 4; i <= 6; i++) {
          if (p[`image${i}`]) {
            mediaBlocks.push(`<img src="${p[`image${i}`]}" alt="image${i}"/>`);
          }
        }

        mediaEl.innerHTML = mediaBlocks.join('');
      } else {
        titleEl.textContent = 'Проєкт не знайдено';
        target.innerHTML = `<p>Інформацію не вдалося завантажити.</p>`;
      }
    })
    .catch(console.error);
</script>

  <!--відео фото відео фото відео фото відео фото-->
  
</body>
</html>
